# JUQI App 第一版（MVP）版本与进度

本文档为 App 第一版（MVP）的**功能清单、完成状态与遗留问题**单源。日复盘中的「今日完成」可对应到下表项；「明日待办」从「遗留问题」或未完成项中选取。

---

## 一、MVP 原则

| 项 | 说明 |
|----|------|
| **目标** | 用户能完成「登录 → 看动态 → 看帖子详情与评论 → 发动态 → 看个人/他人主页 → 收消息」的主闭环。 |
| **范围** | 只做上述闭环必需功能，与小程序对齐但不做全量对齐；**商城、游戏、AI、管理后台、复杂活动等明确不做**。 |

---

## 二、功能清单与完成状态

### 1. 账号与登录

| 功能 | 说明 | 对应接口 | 完成状态 | 遗留问题 |
|------|------|----------|----------|----------|
| 微信登录 | 使用微信 OpenSDK 完成登录、拿到 Token | appLogin | ✅ 已实现 | 无 |
| 获取/刷新用户信息 | 登录后拉取用户信息与会员状态 | appGetUserInfo、appRefreshToken | ✅ 已实现 | 无 |
| 登录态与 Token 管理 | Token 存储、过期刷新、未登录跳转登录 | - | ✅ 已实现 | 无 |
| 语言/新人验证 | 提交审核、获取审核状态 | appSubmitLanguageVerify、appGetVerifyStatus | ✅ 已实现 | 无 |

### 2. 首页（动态流）

| 功能 | 说明 | 对应接口 | 完成状态 | 遗留问题 |
|------|------|----------|----------|----------|
| 动态列表 | 分页拉取，下拉刷新、上拉加载更多 | appGetDynList | ✅ 已实现 | 无 |
| 动态卡片展示 | 头像、昵称、签名、VIP、正文、图片、标签、点赞/放电/充电 | - | ✅ 已实现 | 无 |
| 点击进详情 | 从卡片跳转帖子详情页 | appGetDynDetail | ✅ 已实现 | 无 |
| 发现/广场 | 与首页列表 type 区分 | appGetDynList | ✅ 已实现 | 无 |

### 3. 帖子详情页

| 功能 | 说明 | 对应接口 | 完成状态 | 遗留问题 |
|------|------|----------|----------|----------|
| 基础信息展示 | 用户信息区、文字、图片、标签 | appGetDynDetail | ✅ 已实现 | 无 |
| 点赞/放电、充电 | 互动按钮与状态 | appLikeDyn、appChargeDyn | ✅ 已实现 | 无 |
| **评论列表** | 一级评论 + 二级回复、分页、评论点赞、@ 与跳转、评论图片 | appGetDynComment、appLikeComment | ⚠️ 部分完成 | 组件已有，需与接口联调、行为完善（一级/二级展示、点赞、图片） |
| **评论输入与提交** | 输入框、一级/二级评论提交、评论图片上传、@ 选择器（可选） | appCommentDyn、appUploadImage | ⚠️ 部分完成 | CommentInputView 已有，需联调提交与回复、图片上传 |
| 圈子信息 | 用户信息区下方显示圈子名称、参与人数、可点进圈子 | appGetCircleDetail | ❌ 未实现 | 需在详情页加圈子信息区 |
| 转发内容展示 | 显示转发原帖内容、图片、用户信息 | appGetDynDetail（含 forwardInfo） | ❌ 未实现 | 需展示转发原帖区块 |
| 话题/@ 跳转 | 话题标签、@ 用户可点击跳转 | - | ⚠️ 部分支持 | 需完善所有入口的跳转 |
| 关注按钮 | 关注/取消关注、状态展示 | appFollowUser、appUnfollowUser、appGetUserFollowStatus | ❌ 未实现 | 详情页需加关注按钮 |
| 更多操作菜单 | 分享、举报、删除（本人）等 | - | ❌ 未实现 | 需操作菜单组件 |
| 错误与加载 | 错误提示与重试、下拉刷新 | - | ⚠️ 基础 | 需加强错误提示与下拉刷新 |

### 4. 发布动态

| 功能 | 说明 | 对应接口 | 完成状态 | 遗留问题 |
|------|------|----------|----------|----------|
| 发布入口 | Tab 或首页进入发布页 | - | ✅ 已实现 | 无 |
| 文字 + 图片 | 多图（如 1～9 张） | appPublishDyn、appUploadImage | ✅ 已实现 | 无 |
| 选择圈子 | 发帖时选择所属圈子 | appGetCircleList 等 | ✅ 已实现 | 无 |
| 发布成功 | 发布成功后返回首页或详情、列表刷新 | appPublishDyn | ✅ 已实现 | 无 |

### 5. 用户主页

| 功能 | 说明 | 对应接口 | 完成状态 | 遗留问题 |
|------|------|----------|----------|----------|
| 自己的主页 | 头像、昵称、简介、会员状态、发布的动态列表 | appGetCurrentUserProfile、appGetUserDynList | ✅ 已实现 | 无 |
| 他人主页 | 通过动态/评论进入，展示他人资料与动态列表 | appGetUserProfile、appGetUserDynList | ✅ 已实现 | 无 |
| 基础资料展示 | 头像、昵称、签名、VIP 标识 | 用户信息类接口 | ✅ 已实现 | 无 |

### 6. 消息

| 功能 | 说明 | 对应接口 | 完成状态 | 遗留问题 |
|------|------|----------|----------|----------|
| 消息列表 | 按类型展示（评论、@、点赞、系统等） | appGetMessageList | ✅ 已实现 | 无 |
| 未读数 | Tab 或入口红点/数字 | appGetUnreadCount | ✅ 已实现 | 无 |
| 点击跳转 | 进入对应帖子或会话、标记已读 | appMarkMessagesRead | ✅ 已实现 | 无 |
| 访客/不看/未访问列表 | 不看 TA、不让 TA 看、未访问等 | appGetNoSeeList、appGetNoSeeMeList、appGetNoVisitList | ✅ 已实现 | 无 |

### 7. 基础导航与设置

| 功能 | 说明 | 对应接口 | 完成状态 | 遗留问题 |
|------|------|----------|----------|----------|
| Tab 导航 | 首页、发现、发布、消息、我的 | - | ✅ 已实现 | 无 |
| 我的/设置 | 入口到个人主页、设置页 | - | ✅ 已实现 | 无 |
| 退出登录 | 清除 Token、回到登录页 | - | ✅ 已实现 | 无 |

---

## 三、遗留问题汇总（按优先级）

便于明日待办与日复盘对照，从「功能清单」中摘出未完成或需收口项。

**P0（核心闭环）**
- 帖子详情：评论列表与接口联调（一级/二级、点赞、图片）
- 帖子详情：评论输入与提交联调（一级/二级评论、评论图片上传）

**P1（体验完善）**
- 帖子详情：圈子信息展示
- 帖子详情：转发内容展示
- 帖子详情：话题/@ 跳转完善
- 帖子详情：关注按钮
- 帖子详情：更多操作菜单（分享、举报、删除）
- 帖子详情：错误提示与下拉刷新

**联调与质量**
- 测试环境端到端回归：登录 → 首页 → 详情 → 评论 → 发帖 → 个人页 → 消息
- 与 [App接口文档.md](App接口文档.md) 对照，关键接口格式一致
- 已知 Bug 收口

---

## 四、最近完成

按日记录，保留最近 5～7 条。

- 2025-02-10（复盘日）：客户端与 appApi/云函数联调（首页、发现、帖子/圈子/话题详情、消息、个人页）；不看 TA/不让 TA 看/未访问列表功能与视图落地；详情页与多模块 UI/数据打通（本次为当日未提交变更归纳）
- 2025-02-10：appApi 中 search/user/circle/dyn 扩展与客户端首页/发现/详情/消息/个人页联调；新增不看 TA/不让 TA 看/未访问列表视图（见日复盘）

---

## 五、与日复盘的衔接

- **今日完成**：日复盘中写「今日完成（对应版本与进度）」时，可写上表功能点或「三、遗留问题汇总」中的项；复盘后把已解决项从遗留问题中删或改为已解决。
- **明日待办**：从「三、遗留问题汇总」或表中「遗留问题」列选取 1～3 项；优先 P0，再 P1。

日复盘见 [日复盘.md](日复盘.md)。
