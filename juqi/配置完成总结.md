# Universal Links é…ç½®å®Œæˆæ€»ç»“

## âœ… å·²å®Œæˆçš„é…ç½®

### 1. ä»£ç é…ç½®

âœ… **AppDelegate.swift**
- Universal Link å·²æ›´æ–°ä¸ºï¼š`https://juqi.life/app/`
- å¾®ä¿¡ SDK æ³¨å†Œå·²é…ç½®
- å›è°ƒå¤„ç†å·²å®ç°

âœ… **Entitlements æ–‡ä»¶**
- `juqiDebug.entitlements` - Debug é…ç½®
- `juqiRelease.entitlements` - Release é…ç½®
- å·²é…ç½® Associated Domainsï¼š`applinks:juqi.life`

âœ… **project.pbxproj**
- Debug é…ç½®å·²å…³è” `juqiDebug.entitlements`
- Release é…ç½®å·²å…³è” `juqiRelease.entitlements`

### 2. æœåŠ¡å™¨é…ç½®

âœ… **apple-app-site-association æ–‡ä»¶**
- å·²ä¸Šä¼ åˆ°é™æ€ç½‘ç«™æ‰˜ç®¡
- è·¯å¾„ï¼š`.well-known/apple-app-site-association`
- é…ç½®è·¯å¾„ï¼š`/app/*`
- å¯é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š
  - https://juqi.life/.well-known/apple-app-site-association
  - https://prod-juqi-7glu2m8qfa31e13f-1314478640.tcloudbaseapp.com/.well-known/apple-app-site-association

âœ… **è‡ªå®šä¹‰åŸŸå**
- `juqi.life` å·²é…ç½®
- SSL è¯ä¹¦å·²é…ç½®
- DNS è§£æå·²é…ç½®

## ğŸ“‹ è¿˜éœ€è¦æ‰‹åŠ¨é…ç½®çš„å†…å®¹

### 1. åœ¨ Xcode ä¸­æ·»åŠ æ–‡ä»¶åˆ°é¡¹ç›®

1. åœ¨ Xcode ä¸­æ‰“å¼€é¡¹ç›®ï¼ˆä½¿ç”¨ `juqi.xcworkspace`ï¼‰
2. å³é”®ç‚¹å‡» `juqi` æ–‡ä»¶å¤¹
3. é€‰æ‹© `Add Files to "juqi"...`
4. é€‰æ‹©ä»¥ä¸‹æ–‡ä»¶ï¼š
   - `juqiDebug.entitlements`
   - `juqiRelease.entitlements`
5. ç¡®ä¿å‹¾é€‰ `Copy items if needed` å’Œ `Add to targets: juqi`

### 2. é…ç½® URL Schemeï¼ˆå¦‚æœè¿˜æ²¡é…ç½®ï¼‰

1. åœ¨ Xcode ä¸­é€‰æ‹©é¡¹ç›® Target `juqi`
2. é€‰æ‹© `Info` æ ‡ç­¾é¡µ
3. æ‰¾åˆ° `URL Types`
4. å¦‚æœæ²¡æœ‰ï¼Œç‚¹å‡» `+` æ·»åŠ 
5. é…ç½®ï¼š
   - **Identifier**: `weixin`
   - **URL Schemes**: ç‚¹å‡» `+` æ·»åŠ ï¼Œè¾“å…¥ `wxä½ çš„å¾®ä¿¡AppID`

### 3. æ›¿æ¢å¾®ä¿¡ AppID

åœ¨ `AppDelegate.swift` ç¬¬ 14 è¡Œï¼Œå°† `YOUR_WECHAT_APP_ID` æ›¿æ¢ä¸ºçœŸå®çš„å¾®ä¿¡ AppIDï¼š
```swift
private let wechatAppID = "ä½ çš„çœŸå®å¾®ä¿¡AppID"
```

## ğŸ” éªŒè¯é…ç½®

### 1. éªŒè¯ apple-app-site-association æ–‡ä»¶

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
```
https://juqi.life/.well-known/apple-app-site-association
```

åº”è¯¥èƒ½çœ‹åˆ° JSON å†…å®¹ï¼Œç¡®è®¤æ–‡ä»¶æ ¼å¼æ­£ç¡®ã€‚

### 2. éªŒè¯ Entitlements æ–‡ä»¶

åœ¨ Xcode ä¸­ï¼š
1. é€‰æ‹©é¡¹ç›® Target
2. é€‰æ‹© `Signing & Capabilities` æ ‡ç­¾é¡µ
3. åº”è¯¥èƒ½çœ‹åˆ° `Associated Domains` capability
4. åº”è¯¥èƒ½çœ‹åˆ° `applinks:juqi.life`

### 3. æµ‹è¯• Universal Links

åœ¨ iOS çœŸæœºä¸Šï¼š
1. åœ¨ Safari ä¸­æ‰“å¼€ï¼š`https://juqi.life/app/test`
2. é•¿æŒ‰é“¾æ¥
3. åº”è¯¥çœ‹åˆ°"åœ¨'juqi'ä¸­æ‰“å¼€"é€‰é¡¹
4. ç‚¹å‡»ååº”è¯¥ç›´æ¥æ‰“å¼€åº”ç”¨

### 4. æµ‹è¯•å¾®ä¿¡ç™»å½•

1. åœ¨çœŸæœºä¸Šè¿è¡Œåº”ç”¨
2. ç‚¹å‡»"å¾®ä¿¡æˆæƒç™»å½•"
3. åº”è¯¥è·³è½¬åˆ°å¾®ä¿¡è¿›è¡Œæˆæƒ
4. æˆæƒæˆåŠŸååº”è¯¥é€šè¿‡ Universal Link è¿”å›åº”ç”¨

## ğŸ“ é…ç½®æ‘˜è¦

| é…ç½®é¡¹ | å€¼ | çŠ¶æ€ |
|--------|-----|------|
| è‡ªå®šä¹‰åŸŸå | `juqi.life` | âœ… å·²é…ç½® |
| Universal Link | `https://juqi.life/app/` | âœ… å·²æ›´æ–° |
| Associated Domains | `applinks:juqi.life` | âœ… å·²é…ç½® |
| apple-app-site-association | `/app/*` | âœ… å·²ä¸Šä¼  |
| Entitlements æ–‡ä»¶ | Debug & Release | âœ… å·²åˆ›å»º |
| URL Scheme | `wxä½ çš„AppID` | â³ éœ€åœ¨ Xcode ä¸­é…ç½® |
| å¾®ä¿¡ AppID | `YOUR_WECHAT_APP_ID` | â³ éœ€æ›¿æ¢ä¸ºçœŸå® AppID |

## ğŸ‰ é…ç½®å®Œæˆï¼

æ‰€æœ‰å¿…è¦çš„ä»£ç é…ç½®å·²å®Œæˆã€‚æ¥ä¸‹æ¥åªéœ€è¦ï¼š

1. âœ… åœ¨ Xcode ä¸­å°† entitlements æ–‡ä»¶æ·»åŠ åˆ°é¡¹ç›®
2. âœ… åœ¨ Xcode ä¸­é…ç½® URL Schemeï¼ˆå¦‚æœè¿˜æ²¡é…ç½®ï¼‰
3. âœ… æ›¿æ¢å¾®ä¿¡ AppID
4. âœ… åœ¨çœŸæœºä¸Šæµ‹è¯•

## ğŸ”— ç›¸å…³é“¾æ¥

- **apple-app-site-association æ–‡ä»¶**: https://juqi.life/.well-known/apple-app-site-association
- **é™æ€ç½‘ç«™æ‰˜ç®¡æ§åˆ¶å°**: https://tcb.cloud.tencent.com/dev?envId=prod-juqi-7glu2m8qfa31e13f#/static-hosting
- **å¾®ä¿¡å¼€æ”¾å¹³å°**: https://open.weixin.qq.com/
