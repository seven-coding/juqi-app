# Universal Links å’Œå¾®ä¿¡ç™»å½•é…ç½®å®Œæˆæ€»ç»“

## âœ… å·²å®Œæˆçš„é…ç½®

### 1. URL Scheme é…ç½®
- âœ… **Info.plist** ä¸­å·²é…ç½® URL Schemes: `wxde953a2ec5493b3b`
- âœ… æ ¼å¼æ­£ç¡®ï¼ˆ`wx` + AppIDï¼‰
- âœ… Identifier è®¾ç½®ä¸º `weixin`

### 2. AppDelegate é…ç½®
- âœ… **AppDelegate.swift** ä¸­ AppID å·²æ›¿æ¢ä¸ºï¼š`de953a2ec5493b3b`
- âœ… Universal Link å·²é…ç½®ä¸ºï¼š`https://app.juqi.life/app/`
- âœ… å¾®ä¿¡ SDK æ³¨å†Œå·²é…ç½®
- âœ… å›è°ƒå¤„ç†å·²å®ç°

### 3. Entitlements é…ç½®
- âœ… **juqiDebug.entitlements** å·²åˆ›å»º
- âœ… **juqiRelease.entitlements** å·²åˆ›å»º
- âœ… Associated Domains å·²é…ç½®ï¼š`applinks:juqi.life`

### 4. apple-app-site-association æ–‡ä»¶
- âœ… æ–‡ä»¶å·²ä¸Šä¼ åˆ°é™æ€ç½‘ç«™æ‰˜ç®¡
- âœ… è·¯å¾„ï¼š`.well-known/apple-app-site-association`
- âœ… é…ç½®è·¯å¾„ï¼š`/app/*`
- âœ… **Content-Type å·²ä¿®å¤ä¸º `application/json`** âœ…
- âœ… æ–‡ä»¶å†…å®¹æ­£ç¡®

### 5. æœåŠ¡å™¨é…ç½®
- âœ… è‡ªå®šä¹‰åŸŸå `app.juqi.life` å·²é…ç½®
- âœ… SSL è¯ä¹¦å·²é…ç½®
- âœ… DNS è§£æå·²é…ç½®

## ğŸ“‹ éœ€è¦åœ¨ Xcode ä¸­ç¡®è®¤çš„é…ç½®

### 1. Associated Domainsï¼ˆé‡è¦ï¼‰

è™½ç„¶ Entitlements æ–‡ä»¶å·²é…ç½®ï¼Œä½†éœ€è¦åœ¨ Xcode ä¸­ç¡®è®¤ï¼š

1. æ‰“å¼€ Xcode é¡¹ç›®ï¼ˆä½¿ç”¨ `juqi.xcworkspace`ï¼‰
2. é€‰æ‹©é¡¹ç›® Target `juqi`
3. é€‰æ‹© `Signing & Capabilities` æ ‡ç­¾é¡µ
4. ç¡®è®¤ `Associated Domains` å·²æ·»åŠ 
5. ç¡®è®¤æ˜¾ç¤ºï¼š`applinks:app.juqi.life`

**å¦‚æœæœªæ˜¾ç¤º**ï¼š
- ç‚¹å‡» `+ Capability`
- æ·»åŠ  `Associated Domains`
- æ·»åŠ ï¼š`applinks:app.juqi.life`

### 2. Entitlements æ–‡ä»¶å·²æ·»åŠ åˆ°é¡¹ç›®

ç¡®è®¤ä»¥ä¸‹æ–‡ä»¶å·²æ·»åŠ åˆ° Xcode é¡¹ç›®ä¸­ï¼š
- `juqiDebug.entitlements`
- `juqiRelease.entitlements`

## ğŸ” éªŒè¯é…ç½®

### 1. éªŒè¯ apple-app-site-association æ–‡ä»¶

**é»˜è®¤åŸŸå**ï¼š
```
https://prod-juqi-7glu2m8qfa31e13f-1314478640.tcloudbaseapp.com/.well-known/apple-app-site-association
```

**è‡ªå®šä¹‰åŸŸå**ï¼ˆå¦‚æœå·²æ­£ç¡®å…³è”ï¼‰ï¼š
```
https://app.juqi.life/.well-known/apple-app-site-association
```

**éªŒè¯å†…å®¹**ï¼š
- âœ… åº”è¯¥ç›´æ¥æ˜¾ç¤º JSON å†…å®¹ï¼ˆä¸ä¸‹è½½ï¼‰
- âœ… Content-Type åº”è¯¥æ˜¯ `application/json`
- âœ… æ–‡ä»¶å†…å®¹æ­£ç¡®

### 2. éªŒè¯ Universal Links

åœ¨ iOS è®¾å¤‡ä¸Šæµ‹è¯•ï¼š
1. åœ¨ Safari ä¸­æ‰“å¼€ï¼š`https://app.juqi.life/app/test`
2. é•¿æŒ‰é“¾æ¥
3. åº”è¯¥çœ‹åˆ°"åœ¨'juqi'ä¸­æ‰“å¼€"é€‰é¡¹
4. ç‚¹å‡»ååº”è¯¥ç›´æ¥æ‰“å¼€åº”ç”¨

### 3. éªŒè¯å¾®ä¿¡ç™»å½•

1. åœ¨çœŸæœºä¸Šè¿è¡Œåº”ç”¨
2. ç‚¹å‡»"å¾®ä¿¡æˆæƒç™»å½•"
3. åº”è¯¥è·³è½¬åˆ°å¾®ä¿¡è¿›è¡Œæˆæƒ
4. æˆæƒæˆåŠŸååº”è¯¥é€šè¿‡ Universal Link è¿”å›åº”ç”¨

## ğŸ“ é…ç½®æ‘˜è¦

| é…ç½®é¡¹ | å€¼ | çŠ¶æ€ |
|--------|-----|------|
| URL Scheme | `wxde953a2ec5493b3b` | âœ… å·²é…ç½® |
| AppDelegate AppID | `de953a2ec5493b3b` | âœ… å·²é…ç½® |
| Universal Link | `https://juqi.life/app/` | âœ… å·²é…ç½® |
| Associated Domains | `applinks:juqi.life` | âœ… å·²é…ç½®ï¼ˆéœ€åœ¨ Xcode ä¸­ç¡®è®¤ï¼‰ |
| Content-Type | `application/json` | âœ… å·²ä¿®å¤ |
| apple-app-site-association | å·²ä¸Šä¼  | âœ… å·²ä¸Šä¼  |
| è‡ªå®šä¹‰åŸŸå | `juqi.life` | âœ… å·²é…ç½® |

## âš ï¸ é‡è¦æé†’

1. **Associated Domains**ï¼šå¿…é¡»åœ¨ Xcode ä¸­ç¡®è®¤å·²æ·»åŠ ï¼Œè¿™æ˜¯ Universal Links å·¥ä½œçš„å…³é”®
2. **æµ‹è¯•ç¯å¢ƒ**ï¼šUniversal Links å’Œå¾®ä¿¡ç™»å½•éœ€è¦åœ¨çœŸæœºä¸Šæµ‹è¯•ï¼Œæ¨¡æ‹Ÿå™¨å¯èƒ½ä¸å®Œå…¨æ”¯æŒ
3. **å¾®ä¿¡å¼€æ”¾å¹³å°**ï¼šç¡®ä¿åœ¨å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®äº†æ­£ç¡®çš„ Bundle ID å’Œ Universal Links

## ğŸ‰ é…ç½®å®Œæˆåçš„ä¸‹ä¸€æ­¥

1. âœ… åœ¨ Xcode ä¸­ç¡®è®¤ Associated Domains å·²æ·»åŠ 
2. âœ… åœ¨çœŸæœºä¸Šæµ‹è¯•å¾®ä¿¡ç™»å½•æµç¨‹
3. âœ… éªŒè¯ Universal Links æ˜¯å¦æ­£å¸¸å·¥ä½œ
4. âœ… ç¡®è®¤å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®æ­£ç¡®

## ğŸ”— ç›¸å…³é“¾æ¥

- **é™æ€ç½‘ç«™æ‰˜ç®¡æ§åˆ¶å°**: https://tcb.cloud.tencent.com/dev?envId=prod-juqi-7glu2m8qfa31e13f#/static-hosting
- **COS æ§åˆ¶å°**: https://console.cloud.tencent.com/cos/bucket?bucket=a0d1-static-prod-juqi-7glu2m8qfa31e13f-1314478640&region=ap-shanghai
- **apple-app-site-association æ–‡ä»¶**: https://app.juqi.life/.well-known/apple-app-site-association
- **å¾®ä¿¡å¼€æ”¾å¹³å°**: https://open.weixin.qq.com/

## ğŸš€ æµ‹è¯•æ¸…å•

- [ ] åœ¨ Xcode ä¸­ç¡®è®¤ Associated Domains å·²æ·»åŠ 
- [ ] åœ¨çœŸæœºä¸Šè¿è¡Œåº”ç”¨
- [ ] æµ‹è¯•å¾®ä¿¡ç™»å½•åŠŸèƒ½
- [ ] æµ‹è¯• Universal Linksï¼ˆåœ¨ Safari ä¸­æ‰“å¼€ `https://app.juqi.life/app/test`ï¼‰
- [ ] ç¡®è®¤å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®æ­£ç¡®
