# Universal Links æœ€ç»ˆé…ç½®æ£€æŸ¥æ¸…å•

## âœ… å·²å®Œæˆçš„é…ç½®

### 1. apple-app-site-association æ–‡ä»¶
- âœ… æ–‡ä»¶å·²ä¸Šä¼ åˆ°é™æ€ç½‘ç«™æ‰˜ç®¡
- âœ… è·¯å¾„ï¼š`.well-known/apple-app-site-association`
- âœ… é…ç½®è·¯å¾„ï¼š`/app/*`
- âœ… è®¿é—®åœ°å€ï¼š
  - é»˜è®¤åŸŸåï¼šhttps://prod-juqi-7glu2m8qfa31e13f-1314478640.tcloudbaseapp.com/.well-known/apple-app-site-association
  - è‡ªå®šä¹‰åŸŸåï¼šhttps://app.juqi.life/.well-known/apple-app-site-association

### 2. AppDelegate.swift
- âœ… Universal Link å·²æ›´æ–°ä¸ºï¼š`https://app.juqi.life/app/`
- âœ… å¾®ä¿¡ SDK æ³¨å†Œå·²é…ç½®
- âœ… å›è°ƒå¤„ç†å·²å®ç°

### 3. è‡ªå®šä¹‰åŸŸå
- âœ… `app.juqi.life` åŸŸåå·²é…ç½®
- âœ… SSL è¯ä¹¦å·²é…ç½®
- âœ… DNS è§£æå·²é…ç½®

## ğŸ“‹ éœ€è¦åœ¨ Xcode ä¸­å®Œæˆçš„é…ç½®

### 1. é…ç½® Associated Domains

**æ­¥éª¤**ï¼š
1. åœ¨ Xcode ä¸­æ‰“å¼€é¡¹ç›®ï¼ˆä½¿ç”¨ `juqi.xcworkspace`ï¼‰
2. é€‰æ‹©é¡¹ç›® Target `juqi`
3. é€‰æ‹© `Signing & Capabilities` æ ‡ç­¾é¡µ
4. ç‚¹å‡» `+ Capability`
5. æœç´¢å¹¶æ·»åŠ  `Associated Domains`
6. åœ¨ `Associated Domains` ä¸­ï¼Œç‚¹å‡» `+` æ·»åŠ ï¼š
   ```
   applinks:app.juqi.life
   ```

**æ³¨æ„**ï¼š
- ä¸éœ€è¦åŒ…å« `https://` å’Œè·¯å¾„
- åªéœ€è¦åŸŸåéƒ¨åˆ†ï¼š`app.juqi.life`
- æ ¼å¼ï¼š`applinks:åŸŸå`

### 2. éªŒè¯ Info.plist é…ç½®

ç¡®ä¿ä»¥ä¸‹é…ç½®å·²æ­£ç¡®è®¾ç½®ï¼š

1. **LSApplicationQueriesSchemes**ï¼ˆå·²åœ¨ project.pbxproj ä¸­é…ç½®ï¼‰ï¼š
   - `weixin`
   - `weixinULAPI`

2. **URL Types**ï¼ˆåœ¨ Info.plist æˆ– Xcode Info æ ‡ç­¾é¡µä¸­ï¼‰ï¼š
   - Identifier: `weixin`
   - URL Schemes: `wxä½ çš„å¾®ä¿¡AppID`

## ğŸ” éªŒè¯é…ç½®

### 1. éªŒè¯ apple-app-site-association æ–‡ä»¶

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ä»¥ä¸‹åœ°å€ï¼Œåº”è¯¥èƒ½çœ‹åˆ° JSON å†…å®¹ï¼š
```
https://app.juqi.life/.well-known/apple-app-site-association
```

é¢„æœŸå†…å®¹ï¼š
```json
{
  "applinks": {
    "apps": [],
    "details": [
      {
        "appID": "CRP77P4D8P.com.seven.juqi",
        "paths": [
          "/app/*"
        ]
      }
    ]
  }
}
```

### 2. éªŒè¯ Universal Links

åœ¨ iOS è®¾å¤‡ä¸Šæµ‹è¯•ï¼š
1. åœ¨ Safari ä¸­æ‰“å¼€ï¼š`https://app.juqi.life/app/test`
2. é•¿æŒ‰é“¾æ¥
3. åº”è¯¥çœ‹åˆ°"åœ¨'juqi'ä¸­æ‰“å¼€"é€‰é¡¹
4. ç‚¹å‡»ååº”è¯¥ç›´æ¥æ‰“å¼€åº”ç”¨

### 3. éªŒè¯å¾®ä¿¡ç™»å½•

1. åœ¨çœŸæœºä¸Šè¿è¡Œåº”ç”¨
2. ç‚¹å‡»"å¾®ä¿¡æˆæƒç™»å½•"
3. åº”è¯¥è·³è½¬åˆ°å¾®ä¿¡è¿›è¡Œæˆæƒ
4. æˆæƒæˆåŠŸååº”è¯¥é€šè¿‡ Universal Link è¿”å›åº”ç”¨

## ğŸ“ é…ç½®æ‘˜è¦

| é…ç½®é¡¹ | å€¼ | çŠ¶æ€ |
|--------|-----|------|
| è‡ªå®šä¹‰åŸŸå | `juqi.life` | âœ… å·²é…ç½® |
| Universal Link | `https://juqi.life/app/` | âœ… å·²æ›´æ–° |
| apple-app-site-association | `/app/*` | âœ… å·²ä¸Šä¼  |
| Associated Domains | `applinks:juqi.life` | â³ éœ€åœ¨ Xcode ä¸­é…ç½® |
| URL Scheme | `wxä½ çš„AppID` | â³ éœ€åœ¨ Xcode ä¸­é…ç½® |
| å¾®ä¿¡ AppID | `YOUR_WECHAT_APP_ID` | â³ éœ€æ›¿æ¢ä¸ºçœŸå® AppID |

## âš ï¸ é‡è¦æé†’

1. **Associated Domains**ï¼šå¿…é¡»åœ¨ Xcode ä¸­æ‰‹åŠ¨é…ç½®ï¼Œè¿™æ˜¯ Universal Links å·¥ä½œçš„å…³é”®
2. **å¾®ä¿¡ AppID**ï¼šè®°å¾—åœ¨ `AppDelegate.swift` ä¸­æ›¿æ¢ `YOUR_WECHAT_APP_ID` ä¸ºçœŸå®çš„å¾®ä¿¡ AppID
3. **URL Scheme**ï¼šè®°å¾—åœ¨ Xcode Info æ ‡ç­¾é¡µä¸­é…ç½® URL Scheme ä¸º `wxä½ çš„å¾®ä¿¡AppID`
4. **æµ‹è¯•**ï¼šUniversal Links éœ€è¦åœ¨çœŸæœºä¸Šæµ‹è¯•ï¼Œæ¨¡æ‹Ÿå™¨å¯èƒ½ä¸å®Œå…¨æ”¯æŒ

## ğŸ”— ç›¸å…³é“¾æ¥

- **é™æ€ç½‘ç«™æ‰˜ç®¡æ§åˆ¶å°**: https://tcb.cloud.tencent.com/dev?envId=prod-juqi-7glu2m8qfa31e13f#/static-hosting
- **apple-app-site-association æ–‡ä»¶**: https://app.juqi.life/.well-known/apple-app-site-association
- **å¾®ä¿¡å¼€æ”¾å¹³å°**: https://open.weixin.qq.com/

## ğŸ‰ é…ç½®å®Œæˆåçš„ä¸‹ä¸€æ­¥

1. âœ… åœ¨ Xcode ä¸­é…ç½® Associated Domains
2. âœ… åœ¨ Xcode ä¸­é…ç½® URL Scheme
3. âœ… æ›¿æ¢å¾®ä¿¡ AppID
4. âœ… åœ¨çœŸæœºä¸Šæµ‹è¯•å¾®ä¿¡ç™»å½•æµç¨‹
5. âœ… éªŒè¯ Universal Links æ˜¯å¦æ­£å¸¸å·¥ä½œ
